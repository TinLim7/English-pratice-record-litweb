# English Streak

一个用于记录英语学习时间的日历应用，配合李笑来的「Enjoy」使用。

## 应用截图

```
┌─────────────────────────────────────────────┐
│  📚 English Streak           [🏆 3] [⚙️]   │
├─────────────────────────────────────────────┤
│  2025                                  (+)  │
│  ─────────────────────────────────────────  │
│  🔥 12 day streak    🕐 24.5h total   📅 45  │
│  ─────────────────────────────────────────  │
│  ▓▓░░░▓▓░░░▓▓░░░▓▓░░░▓▓░░░▓▓░░░▓▓░░░      │
│  ─────────────────────────────────────────  │
│  [Month]  [Stats]  [Year]                   │
├─────────────────────────────────────────────┤
│  January 2025                               │
│  <  >                                       │
│  "One step at a time, every day counts"     │
│  ─────────────────────────────────────────  │
│  1   2   3   4   5   6   7                   │
│  8   9  10  11  12  13  14                   │
│  15  16  17  18  19  20  21  ...             │
│  ─────────────────────────────────────────  │
│  0m  ▪▪▪▪  ▪▪▪▪▪  ▪▪▪▪▪▪▪▪                   │
└─────────────────────────────────────────────┘
```

## 功能说明与操作指南

### 📅 记录每日学习

**操作步骤：**
1. 在日历上找到你想要记录的日期
2. 点击该日期，弹出编辑弹窗
3. 输入学习分钟数（如：30）
4. 点击 ✓ 确认，或按回车键
5. 日期格子会根据时长显示不同颜色

**颜色含义：**
| 颜色 | 含义 | 分钟数 |
|------|------|--------|
| 深灰色 | 未学习 | 0m |
| 深绿色 | 轻度学习 | 1-19m |
| 绿色 | 达标学习 | 20-45m |
| 亮绿色 | 超额完成 | 46m+ |

**快捷输入：** 弹窗中有 15/30/45/60 快速按钮，点击即可快速填写。

---

### 📝 批次记录（多次学习记录）

**新增功能：** 一天内可以多次记录学习时间，系统自动累加！

**使用场景：**
- 早上学习 30 分钟
- 下午又学习了 40 分钟
- 晚上再学习 20 分钟
- **总计：90 分钟**

**操作步骤：**
1. 点击日期格子，弹出编辑弹窗
2. 弹窗顶部显示当天**总计时间**
3. 输入第一次学习时间（如：30）点击 ✓ 确认
4. 再次点击同一日期
5. 弹窗会显示之前的学习记录列表
6. 输入第二次学习时间（如：40）点击 ✓ 确认
7. 系统自动累加到总计

**查看批次记录：**
- 点击日期格子
- 弹窗中上半部分显示所有学习记录
- 格式：`时间戳 + 分钟数`
- 鼠标悬停在记录上会显示删除按钮

**删除单次记录：**
- 点击记录右侧的 × 按钮
- 该批次记录被删除
- 总时间自动重新计算

⚠️ **注意：** 如果删除所有批次记录，该日期的记录将被清除。

---

### 📊 查看统计数据

**顶部快捷统计栏：**
- 🔥 **Streak** - 连续学习天数
- 🕐 **Total Hours** - 累计学习总时长
- 📅 **Days** - 累计学习天数
- 🎯 **Goal** - 当前每日目标（点击可修改）

**统计仪表盘 (Stats 模式)：**

| 模块 | 显示内容 | 说明 |
|------|----------|------|
| 今日目标 | 进度条 + 百分比 | 展示当天学习进度与 30m 目标的差距 |
| Streak | 连续天数 | 连续每天都有学习记录的天数 |
| Total | 总时长 + 学习天数 | 累计数据概览 |
| 本周/本月 | 学习时长、活跃天数 | 近期的学习情况 |
| 热力图 | 30 天色块 | 颜色越深学习越多 |
| 趋势图 | 7 天柱状图 | 展示最近一周的学习情况 |
| 成就进度 | 3 条进度条 | Streak / 天数 / 时长 的完成度 |

---

### 🗓️ 切换视图模式

顶部有三个切换按钮：

| 按钮 | 功能 |
|------|------|
| **Month** | 单月详细视图，可切换月份 |
| **Stats** | 统计数据仪表盘，可切换月份查看 |
| **Year** | 12 个月总览 |

**切换月份：**
- 在 Month 或 Stats 模式下，点击左右箭头 `<` `>` 切换月份
- 跨年自动切换年份

---

### 🔥 关于连续打卡 (Streak)

**计算规则：**
- 从今天往前推算
- 连续每天都有学习记录（>0分钟）即为连续
- 中断一天 Streak 归零

**显示位置：**
- 顶部统计栏
- 成就徽章处

---

### 🏆 解锁成就

**成就列表：**

| 成就名称 | 解锁条件 | 图标 |
|----------|----------|------|
| 7 Day Streak | 连续学习 7 天 | 🔥 |
| 30 Day Streak | 连续学习 30 天 | ⚡ |
| 100 Day Streak | 连续学习 100 天 | 💎 |
| Getting Started | 累计学习 10 天 | 🌱 |
| Half Century | 累计学习 50 天 | 🎯 |
| Century Club | 累计学习 100 天 | 🏆 |
| Year Master | 累计学习 365 天 | 👑 |
| 10 Hours | 累计学习 10 小时 | ⏰ |
| 50 Hours | 累计学习 50 小时 | 📚 |
| 100 Hours | 累计学习 100 小时 | 🎓 |

**查看成就：**
1. 点击右上角 🏆 奖杯按钮
2. 弹出成就列表
3. 已解锁的成就会高亮显示

**解锁通知：**
- 达成成就时，右下角弹出通知
- 3 秒后自动消失

---

### 📱 移动端使用

**优化特性：**
- 底部图例栏固定显示
- 年历视图单列显示
- 按钮尺寸适合触控
- 弹窗全屏显示

**年历视图：**
- 移动端每次只显示一个月
- 点击月份卡片进入详情

---

### 💾 数据导出导入

#### 导出数据（备份）

1. 点击右上角 ⚙️ **设置** 按钮
2. 在 "Export Data" 区域点击 **"Copy Data to Clipboard"**
3. 数据已复制到剪贴板
4. 打开记事本/备忘录，粘贴保存

**导出的数据格式示例：**
```json
{"2024-12-01":30,"2024-12-02":45,"2024-12-03":60}
```

#### 导入数据（恢复）

1. 点击右上角 ⚙️ **设置** 按钮
2. 在 "Import Data" 区域粘贴 JSON 数据
3. 点击 **"Import & Overwrite"**
4. 确认弹窗，数据恢复完成

⚠️ **注意：** 导入会覆盖当前数据，请确保已备份当前数据。

---

### ⚙️ 修改每日目标

1. 点击顶部 **"Goal: 30m"** 按钮
2. 输入新的目标分钟数
3. 或点击快捷按钮：15m / 30m / 45m / 60m / 90m
4. 点击 **"Save Goal"** 保存

## 在线访问

**https://yingyujilu.netlify.app**

## 技术栈

- **React 18** - UI 框架
- **Babel** - JSX 语法编译
- **Tailwind CSS** - 原子化样式
- **localStorage** - 浏览器本地存储
- **SVG Icons** - Heroicons 图标

## 快速开始

### 本地运行

```bash
# 方法一：直接打开
open index.html

# 方法二：使用 Python
python3 -m http.server 8000
# 访问 http://localhost:8000

# 方法三：使用 npx
npx serve .
```

### 在线部署

#### Netlify（推荐）

1. 访问 https://netlify.com 注册账号
2. 将 `index.html` 文件拖拽到页面
3. 自动部署，获得访问链接

#### GitHub Pages

1. 创建 GitHub 仓库
2. 上传 `index.html` 和 `README.md`
3. 进入仓库 Settings > Pages
4. 选择 `main` 分支保存
5. 访问 `https://你的用户名.github.io/仓库名`

## 数据备份

### 导出数据

1. 点击右上角 ⚙️ 设置按钮
2. 点击 "Copy Data to Clipboard"
3. 复制弹出的 JSON 数据
4. 保存到安全的地方

### 导入数据

1. 点击右上角 ⚙️ 设置按钮
2. 粘贴 JSON 数据到输入框
3. 点击 "Import & Overwrite"
4. 确认覆盖当前数据

**建议每周导出备份一次，防止数据丢失。**

## 文件结构

```
english-streak/
├── index.html      # 主应用文件 (约 1600 行)
├── README.md       # 项目说明文档
└── .gitignore      # Git 忽略配置
```

## 自定义修改

### 修改每日学习目标

```javascript
// 在代码中搜索并修改
const [dailyGoal, setDailyGoal] = useState(30); // 改成你想要的分钟数
```

### 添加更多励志名言

```javascript
// 在代码中搜索 quotes 数组
const quotes = [
    "The only way to do great work is to love what you do.",
    // 在这里添加更多名言...
];
```

### 修改成就条件

```javascript
// 在 ACHIEVEMENTS 数组中修改
{ id: 'streak7', name: '7 Day Streak', req: 7, type: 'streak' }, // 修改 req 值
```

## 浏览器支持

- Chrome 90+
- Safari 14+
- Firefox 88+
- Edge 90+

## 常见问题

**Q: 数据会丢失吗？**
A: 数据保存在浏览器 localStorage 中，清除浏览器数据会丢失。建议定期导出备份。

**Q: 可以多人使用吗？**
A: 当前版本不支持同步，每台设备数据独立。可通过导出导入功能手动同步。

**Q: 如何重置所有数据？**
A: 清除浏览器 localStorage 中的 `english-streak-data` 即可。

## 更新日志

### v1.1.1 (2026-01-09) 🐛
- 修复 Safari 在提交学习时间后偶发出现的右上角绿色渲染伪影（关闭 Safari 下的 `backdrop-filter` 与进度条条纹动画兜底）
- 修正进度条 `progress-stripes` 的背景叠加方式，避免覆盖渐变背景

### v1.1.0 (2025-01-09) ✨
- **🎉 新增：批次记录功能**
  - 支持一天内多次记录学习时间
  - 每次记录自动获取时间戳
  - 批次列表可视化展示
  - 可单独删除某次记录
  - 数据自动向后兼容

- **📱 界面优化**
  - 编辑弹窗显示当天总计时间
  - 批次记录列表可滚动查看
  - 悬停显示删除按钮
  - 优化移动端交互体验

- **🔧 技术改进**
  - 数据结构升级（支持 sessions 数组）
  - 增强统计计算逻辑
  - 提升性能表现

### v1.0.0 (2025-12-24)
- 初始版本发布
- 月历视图
- 统计仪表盘
- 年历视图
- 成就系统
- 数据导入导出

## 许可证

MIT License - 欢迎 Fork 和 Star！

---

Built with ❤️ for English learners.
